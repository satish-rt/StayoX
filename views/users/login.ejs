<% layout("/layouts/boilerplate") %>

<main class="flex-grow flex flex-col items-center justify-center w-full min-h-screen relative overflow-hidden">
  <!-- Abstract Background Detail -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none z-0 opacity-40">
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-br from-slate-200/40 to-transparent rounded-full blur-3xl"></div>
  </div>

  <div class="w-full max-w-[420px] z-10 flex flex-col gap-12 px-6">
    <!-- Branding -->
    <div class="text-center space-y-2">
      <div class="flex justify-center mb-6">
        <div class="w-8 h-8 text-slate-900 dark:text-white">
          <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
            <path clip-rule="evenodd" d="M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z" fill="currentColor" fill-rule="evenodd"></path>
          </svg>
        </div>
      </div>
      <h1 class="text-3xl md:text-4xl font-bold tracking-tight text-slate-900 dark:text-white">STAYOX</h1>
      <p class="text-slate-500 dark:text-slate-400 text-sm tracking-wide">Your perfect vacation rental awaits.</p>
    </div>

    <!-- Tabs -->
    <div class="flex justify-center w-full border-b border-slate-300 dark:border-slate-700">
      <div class="flex w-full gap-8">
        <a class="flex-1 pb-3 text-center border-b-2 border-slate-900 dark:border-white text-slate-900 dark:text-white transition-all" href="/login">
          <span class="text-sm font-bold tracking-widest uppercase">Log In</span>
        </a>
        <a class="flex-1 pb-3 text-center border-b border-transparent text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 hover:border-slate-300 dark:hover:border-slate-600 transition-all" href="/signup">
          <span class="text-sm font-bold tracking-widest uppercase">Sign Up</span>
        </a>
      </div>
    </div>

    <!-- Form -->
    <form action="/login" method="POST" class="flex flex-col gap-8 pt-4">
      <!-- Username Field -->
      <div class="group relative">
        <input 
          class="peer w-full bg-transparent border-0 border-b border-slate-300 dark:border-slate-600 py-3 text-base text-slate-900 dark:text-white placeholder-transparent focus:border-slate-900 dark:focus:border-white focus:ring-0 transition-colors duration-300" 
          id="username" 
          name="username"
          placeholder="Username" 
          type="text"
          required
        />
        <label 
          class="absolute left-0 -top-3.5 text-xs text-slate-500 dark:text-slate-400 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-slate-400 dark:peer-placeholder-shown:text-slate-500 peer-placeholder-shown:top-3 peer-focus:-top-3.5 peer-focus:text-xs peer-focus:text-slate-900 dark:peer-focus:text-white cursor-text" 
          for="username"
        >
          Username
        </label>
      </div>

      <!-- Password Field -->
      <div class="group relative">
        <div class="flex items-center">
          <input 
            class="peer w-full bg-transparent border-0 border-b border-slate-300 dark:border-slate-600 py-3 text-base text-slate-900 dark:text-white placeholder-transparent focus:border-slate-900 dark:focus:border-white focus:ring-0 transition-colors duration-300 pr-10" 
            id="password" 
            name="password"
            placeholder="Password" 
            type="password"
            required
          />
          <label 
            class="absolute left-0 -top-3.5 text-xs text-slate-500 dark:text-slate-400 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-slate-400 dark:peer-placeholder-shown:text-slate-500 peer-placeholder-shown:top-3 peer-focus:-top-3.5 peer-focus:text-xs peer-focus:text-slate-900 dark:peer-focus:text-white cursor-text" 
            for="password"
          >
            Password
          </label>
          <button 
            class="absolute right-0 top-3 text-slate-400 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors focus:outline-none toggle-password"
            type="button"
          >
            <span class="material-symbols-outlined text-[20px]">visibility</span>
          </button>
        </div>
      </div>

      <!-- Actions -->
      <div class="flex items-center justify-between pt-2">
        <label class="flex items-center gap-2 cursor-pointer group">
          <input 
            class="w-4 h-4 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white rounded-sm focus:ring-0 focus:ring-offset-0 cursor-pointer bg-transparent checked:bg-slate-900 dark:checked:bg-white dark:checked:text-slate-900" 
            type="checkbox"
            name="rememberMe"
          />
          <span class="text-xs text-slate-500 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-white transition-colors">Remember me</span>
        </label>
        <a 
          class="text-xs text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white underline decoration-slate-300 dark:decoration-slate-600 hover:decoration-slate-900 dark:hover:decoration-white underline-offset-4 transition-all" 
          href="#"
        >
          Forgot Password?
        </a>
      </div>

      <!-- Submit Button -->
      <button 
        class="w-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 h-14 uppercase tracking-[0.15em] text-xs font-bold hover:bg-slate-800 dark:hover:bg-slate-100 transition-colors duration-300 flex items-center justify-center gap-2 group rounded-none" 
        type="submit"
      >
        Log In
        <span class="material-symbols-outlined text-[16px] group-hover:translate-x-1 transition-transform duration-300">arrow_forward</span>
      </button>
    </form>

    <!-- Footer Links -->
    <div class="text-center pt-8 border-t border-slate-300 dark:border-slate-700">
      <p class="text-xs text-slate-400 dark:text-slate-500 leading-relaxed">
        By accessing your account, you agree to our 
        <a class="text-slate-900 dark:text-white hover:underline underline-offset-2" href="/terms">Terms of Service</a> 
        and 
        <a class="text-slate-900 dark:text-white hover:underline underline-offset-2" href="/privacy">Privacy Policy</a>.
      </p>
    </div>
  </div>
</main>

<script>
  // Password visibility toggle
  document.querySelectorAll('.toggle-password').forEach(btn => {
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      const passwordInput = this.closest('.group').querySelector('input[type="password"], input[type="text"]');
      const icon = this.querySelector('.material-symbols-outlined');
      
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        icon.textContent = 'visibility_off';
      } else {
        passwordInput.type = 'password';
        icon.textContent = 'visibility';
      }
    });
  });
</script>

  .btn-primary:hover {
    background: linear-gradient(135deg, var(--primary-hover), #ff4545) !important;
    box-shadow: 0 4px 12px rgba(255, 90, 95, 0.3);
    transform: translateY(-2px);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .form-label {
    color: var(--text-color);
    margin-bottom: 0.6rem;
  }

  .invalid-feedback {
    color: #dc3545;
    margin-top: 0.3rem;
    font-size: 0.875rem;
  }
</style>
